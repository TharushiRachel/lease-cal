<div class="calculator-container">
  <div class="calculator-card">
    <h2>Lease Payment Calculator</h2>
    
    <form (ngSubmit)="calculateInstallment()" class="calculator-form">
      <div class="form-group">
        <label for="capital">
          Capital (C) <span class="required">*</span>
        </label>
        <input
          type="number"
          id="capital"
          [(ngModel)]="capital"
          name="capital"
          step="0.01"
          min="0"
          placeholder="Enter capital amount"
          required
          class="form-control"
        />
      </div>

      <div class="form-group">
        <label for="interestRate">
          Interest Rate (R) % <span class="required">*</span>
        </label>
        <input
          type="number"
          id="interestRate"
          [(ngModel)]="interestRate"
          name="interestRate"
          step="0.01"
          min="0"
          placeholder="Enter annual interest rate"
          required
          class="form-control"
        />
      </div>

      <div class="form-group">
        <label for="numberOfPeriods">
          Number of Periods (n) <span class="required">*</span>
        </label>
        <input
          type="number"
          id="numberOfPeriods"
          [(ngModel)]="numberOfPeriods"
          name="numberOfPeriods"
          step="1"
          min="1"
          placeholder="Enter number of periods"
          required
          class="form-control"
        />
      </div>

      <div class="form-group">
        <label for="upfronts">
          Upfronts
        </label>
        <input
          type="number"
          id="upfronts"
          [(ngModel)]="upfronts"
          name="upfronts"
          step="0.01"
          min="0"
          placeholder="Enter upfront payment (optional)"
          class="form-control"
        />
      </div>

      <div class="button-group">
        <button type="submit" class="btn btn-primary">Calculate Installment</button>
        <button type="button" (click)="reset()" class="btn btn-secondary">Reset</button>
      </div>
    </form>

    <div *ngIf="!isValid" class="error-message">
      <p>{{ errorMessage }}</p>
    </div>

    <div *ngIf="isValid && installmentValue > 0" class="result-section">
      <h3>Calculation Results</h3>
      <div class="result-card">
        <div class="result-item">
          <span class="result-label">Installment Value:</span>
          <span class="result-value highlight">{{ installmentValue | number:'1.2-2' }}</span>
        </div>
        <div class="result-item">
          <span class="result-label">Net Principal (C - Upfronts):</span>
          <span class="result-value">{{ (capital - upfronts) | number:'1.2-2' }}</span>
        </div>
        <div class="result-item">
          <span class="result-label">Total Amount (n Ã— Installment):</span>
          <span class="result-value">{{ totalAmount | number:'1.2-2' }}</span>
        </div>
        <div class="result-item">
          <span class="result-label">Total Interest:</span>
          <span class="result-value">{{ totalInterest | number:'1.2-2' }}</span>
        </div>
      </div>
    </div>
  </div>
</div>

