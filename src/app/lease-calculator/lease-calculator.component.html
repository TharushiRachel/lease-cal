<div class="calculator-container">
  <div class="calculator-card">
    <h2>Lease Payment Calculator</h2>
    
    <form (ngSubmit)="calculateInstallment()" class="calculator-form">
      <div class="form-group">
        <label for="capital">
          Capital (C) <span class="required">*</span>
        </label>
        <input
          type="number"
          id="capital"
          [(ngModel)]="capital"
          name="capital"
          step="0.01"
          min="0"
          placeholder="Enter capital amount"
          required
          class="form-control"
        />
      </div>

      <div class="form-group">
        <label for="interestRate">
          Interest Rate (R) % <span class="required">*</span>
        </label>
        <input
          type="number"
          id="interestRate"
          [(ngModel)]="interestRate"
          name="interestRate"
          step="0.01"
          min="0"
          placeholder="Enter annual interest rate (%)"
          required
          class="form-control"
        />
        <small class="form-hint">Annual interest rate (e.g., 12 for 12% per year)</small>
      </div>

      <div class="form-group">
        <label for="numberOfPeriods">
          Number of Periods (n) <span class="required">*</span>
        </label>
        <input
          type="number"
          id="numberOfPeriods"
          [(ngModel)]="numberOfPeriods"
          name="numberOfPeriods"
          step="0.1"
          min="0.1"
          placeholder="Enter number of years"
          required
          class="form-control"
        />
        <small class="form-hint">Number of years (e.g., 2.5 for 2 years and 6 months)</small>
      </div>

      <div class="form-group">
        <label for="upfronts">
          Upfronts
        </label>
        <input
          type="number"
          id="upfronts"
          [(ngModel)]="upfronts"
          name="upfronts"
          step="0.01"
          min="0"
          placeholder="Enter upfront payment (optional)"
          class="form-control"
        />
      </div>

      <div class="button-group">
        <button type="submit" class="btn btn-primary">Calculate Installment</button>
        <button type="button" (click)="reset()" class="btn btn-secondary">Reset</button>
      </div>
    </form>

    <div *ngIf="!isValid" class="error-message">
      <p>{{ errorMessage }}</p>
    </div>

    <div *ngIf="isValid && installmentValue > 0" class="result-section">
      <h3>Calculation Results</h3>
      <div class="result-card">
        <div class="result-item">
          <span class="result-label">Monthly Installment Value:</span>
          <span class="result-value highlight">{{ installmentValue | number:'1.2-2' }}</span>
        </div>
        <div class="result-item">
          <span class="result-label">Net Principal (C - Upfronts):</span>
          <span class="result-value">{{ (capital - upfronts) | number:'1.2-2' }}</span>
        </div>
        <div class="result-item">
          <span class="result-label">Total Months:</span>
          <span class="result-value">{{ (numberOfPeriods * 12) | number:'1.0-1' }}</span>
        </div>
        <div class="result-item">
          <span class="result-label">Total Amount (Monthly Installment Ã— Total Months):</span>
          <span class="result-value">{{ totalAmount | number:'1.2-2' }}</span>
        </div>
        <div class="result-item">
          <span class="result-label">Total Interest:</span>
          <span class="result-value">{{ totalInterest | number:'1.2-2' }}</span>
        </div>
      </div>
    </div>
  </div>
</div>

